(function(a){function t(t){for(var r,s,o=t[0],u=t[1],l=t[2],d=0,p=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&p.push(n[s][0]),n[s]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(a[r]=u[r]);c&&c(t);while(p.length)p.shift()();return i.push.apply(i,l||[]),e()}function e(){for(var a,t=0;t<i.length;t++){for(var e=i[t],r=!0,o=1;o<e.length;o++){var u=e[o];0!==n[u]&&(r=!1)}r&&(i.splice(t--,1),a=s(s.s=e[0]))}return a}var r={},n={settings:0},i=[];function s(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return a[t].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.m=a,s.c=r,s.d=function(a,t,e){s.o(a,t)||Object.defineProperty(a,t,{enumerable:!0,get:e})},s.r=function(a){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},s.t=function(a,t){if(1&t&&(a=s(a)),8&t)return a;if(4&t&&"object"===typeof a&&a&&a.__esModule)return a;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:a}),2&t&&"string"!=typeof a)for(var r in a)s.d(e,r,function(t){return a[t]}.bind(null,r));return e},s.n=function(a){var t=a&&a.__esModule?function(){return a["default"]}:function(){return a};return s.d(t,"a",t),t},s.o=function(a,t){return Object.prototype.hasOwnProperty.call(a,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var c=u;i.push([5,"chunk-vendors"]),e()})({"402c":function(a,t,e){"use strict";var r=e("2b0e"),n=e("f309");r["a"].use(n["a"]),t["a"]=new n["a"]({})},4425:function(a,t,e){"use strict";var r=e("ae68"),n=e.n(r);n.a},5:function(a,t,e){a.exports=e("c699")},ae68:function(a,t,e){},c699:function(a,t,e){"use strict";e.r(t);e("e260"),e("e6cf"),e("cca6"),e("a79d");var r=e("2b0e"),n=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-app",[e("v-app-bar",{attrs:{fixed:"",color:"white",elevation:"1"}},[e("v-app-bar-nav-icon",{on:{click:function(t){return a.profile()}}},[e("i",{staticClass:"fa fa-arrow-left fa-2x",staticStyle:{color:"#000000"},attrs:{"aria-hidden":"true"}})]),e("v-spacer"),e("v-toolbar-title",{attrs:{id:"Title"}},[a._v("Edit Profile")]),e("v-spacer")],1),e("v-main",{attrs:{id:"main"}},[e("v-container",[e("div",{staticClass:"content"},[a._v(" "+a._s(a.output)+" "),"update"==a.tab?e("div",{staticClass:"tabs"},[e("image-input",{staticClass:"avatar",on:{input:function(t){return a.changeAvatar(t)}}},[e("div",{attrs:{slot:"activator"},slot:"activator"},[e("v-avatar",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{size:"150px"}},[e("img",{attrs:{src:a.userData.avatar}})])],1)]),e("form",{staticClass:"settingsForm",on:{submit:function(t){return t.preventDefault(),a.updateProfile()}}},[e("div",{staticClass:"field"},[e("label",[a._v("Username")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.username,expression:"username"}],attrs:{type:"text",name:"username"},domProps:{value:a.username},on:{input:function(t){t.target.composing||(a.username=t.target.value)}}})]),e("div",{staticClass:"field"},[e("label",[a._v("Email")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.email,expression:"email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{type:"email",name:"email"},domProps:{value:a.email},on:{input:function(t){t.target.composing||(a.email=t.target.value)}}})]),e("button",{staticClass:"submitButton",attrs:{type:"submit"}},[a._v("Update profile")]),e("button",{staticClass:"submitButton",attrs:{type:"button"},on:{click:function(t){a.tab="password",a.output=""}}},[a._v("Change Password")])])],1):a._e(),"password"==a.tab?e("div",{staticClass:"tabs"},[e("form",{staticClass:"settingsForm",on:{submit:function(t){return t.preventDefault(),a.changePassword()}}},[e("div",{staticClass:"field"},[e("label",[a._v("Current Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.password,expression:"password"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{type:"password",name:"password","data-vv-as":"current password"},domProps:{value:a.password},on:{input:function(t){t.target.composing||(a.password=t.target.value)}}})]),e("div",{staticClass:"field"},[e("label",[a._v("New Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.newPassword,expression:"newPassword"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{type:"password",name:"newPassword","data-vv-as":"new password"},domProps:{value:a.newPassword},on:{input:function(t){t.target.composing||(a.newPassword=t.target.value)}}})]),e("div",{staticClass:"field"},[e("label",[a._v("Confirm New Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.confirmPassword,expression:"confirmPassword"},{name:"validate",rawName:"v-validate",value:"required|confirmed:newPassword",expression:"'required|confirmed:newPassword'"}],attrs:{type:"password",name:"confirmPassword","data-vv-as":"confirm password"},domProps:{value:a.confirmPassword},on:{input:function(t){t.target.composing||(a.confirmPassword=t.target.value)}}})]),e("v-dialog",{attrs:{"max-width":"300"},model:{value:a.errorDialog,callback:function(t){a.errorDialog=t},expression:"errorDialog"}},[e("v-card",[e("v-card-text",{staticClass:"subheading"},[a._v(a._s(a.errorText))]),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{flat:""},on:{click:function(t){a.errorDialog=!1}}},[a._v("Got it!")])],1)],1)],1),e("button",{staticClass:"submitButton",attrs:{type:"submit"}},[a._v("Update password")]),e("button",{staticClass:"submitButton",attrs:{type:"button"},on:{click:function(t){a.tab="update",a.output=""}}},[a._v("Go Back")])],1)]):a._e()])])],1)],1)},i=[],s=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("div",{on:{click:function(t){return a.launchFilePicker()}}},[a._t("activator")],2),e("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",name:a.uploadFieldName},on:{change:function(t){return a.onFileChange(t.target.name,t.target.files)}}}),e("v-dialog",{attrs:{"max-width":"300"},model:{value:a.errorDialog,callback:function(t){a.errorDialog=t},expression:"errorDialog"}},[e("v-card",[e("v-card-text",{staticClass:"subheading"},[a._v(a._s(a.errorText))]),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{flat:""},on:{click:function(t){a.errorDialog=!1}}},[a._v("Got it!")])],1)],1)],1)],1)},o=[],u=(e("ac1f"),e("466d"),{name:"image-input",data:function(){return{errorDialog:null,errorText:"",uploadFieldName:"file",maxSize:1024}},props:{value:Object},methods:{launchFilePicker:function(){this.$refs.file.click()},onFileChange:function(a,t){var e=this,r=this.maxSize,n=t[0],i=new FileReader;if(t.length>0){var s=n.size/r/r;n.type.match("image.*")?s>1?(this.errorDialog=!0,this.errorText="Your file is too big! Please select an image under 1MB"):(i.onload=function(a){return e.$emit("input",a.target.result)},i.readAsDataURL(n)):(this.errorDialog=!0,this.errorText="Please choose an image file")}}}}),l=u,c=e("2877"),d=e("6544"),p=e.n(d),v=e("8336"),f=e("b0af"),m=e("99d9"),w=e("169a"),g=e("2fa4"),h=Object(c["a"])(l,s,o,!1,null,null,null),b=h.exports;p()(h,{VBtn:v["a"],VCard:f["a"],VCardActions:m["a"],VCardText:m["c"],VDialog:w["a"],VSpacer:g["a"]});var P=e("bc3a"),x=e.n(P),y={name:"App",components:{ImageInput:b},data:function(){return{userData:null,avatar:null,username:"",email:"",password:"",newPassword:"",confirmPassword:"",errorDialog:null,errorText:"",saving:!1,saved:!1,tab:"update",output:""}},mounted:function(){var a=this;x.a.get("/public/profile/getUserData").then((function(t){return a.userData=t["data"]})),this.initForm()},methods:{fetchUserData:function(){return x.a.get("/public/profile/getUserData").then((function(a){return a["data"]}))},initForm:function(){var a=this;this.fetchUserData().then((function(t){a.username=t.userName,a.email=t.emailAddress}))},profile:function(){window.location.href="/public/profile"},changeAvatar:function(a){this.userData.avatar=a},uploadImage:function(){var a=this;this.saving=!0,setTimeout((function(){return a.savedAvatar()}),1e3)},savedAvatar:function(){this.saving=!1,this.saved=!0},updateProfile:function(){this.userData.userName=this.username,this.userData.emailAddress=this.email;var a=this,t=JSON.stringify(this.userData),e=new FormData;e.append("data",t),x.a.post("/public/profile/updateProfile",e).then((function(t){a.output=t.data})).catch((function(t){a.output=t}))},changePassword:function(){var a=this;if(this.newPassword!=this.confirmPassword)this.errorDialog=!0,this.errorText="New password and confirmed password don't match!";else{var t={password:this.password,newPassword:this.newPassword},e=JSON.stringify(t);console.log(t);var r=new FormData;r.append("data",e),console.log(r),x.a.post("/public/profile/updatePassword",r).then((function(t){a.output=t.data})).catch((function(t){a.output=t}))}}}},D=y,_=(e("4425"),e("7496")),C=e("40dc"),N=e("5bc1"),V=e("8212"),O=e("a523"),T=e("f6c4"),k=e("2a7f"),A=e("269a"),F=e.n(A),S=e("5607"),j=Object(c["a"])(D,n,i,!1,null,null,null),B=j.exports;p()(j,{VApp:_["a"],VAppBar:C["a"],VAppBarNavIcon:N["a"],VAvatar:V["a"],VBtn:v["a"],VCard:f["a"],VCardActions:m["a"],VCardText:m["c"],VContainer:O["a"],VDialog:w["a"],VMain:T["a"],VSpacer:g["a"],VToolbarTitle:k["a"]}),F()(j,{Ripple:S["a"]});var q=e("402c");e("15f5"),e("7051");r["a"].config.productionTip=!1,new r["a"]({vuetify:q["a"],render:function(a){return a(B)}}).$mount("#app")}});
//# sourceMappingURL=settings.648aad59.js.map